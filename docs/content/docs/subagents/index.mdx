---
title: Subagents
description: Multi-agent delegation, catalog selection, and runtime behavior.
icon: Superscript
---

Currently, subagents are the most complete part of **pi-ohm**. However, it's expected that subagents will continue to evolve, especially with Amp's upcoming release. As such, we are baking in functionality for "agent teams" which will behave similarly to OpenAI's Codex CLI.

Agent teams are not special in any way. They simply make subagents more interoperable by default.

## Installation

```bash tab="Persistent"
pi install npm:@pi-ohm/subagents
```

```bash tab="Temporary"
pi -e npm:@pi-ohm/subagents
```

## Configuration

```json title=".pi/ohm.json" tab="Custom agents"
{
  "$schema": "https://ohm.moe/schema/subagents.json",
  "subagents": {
    "my-agent": {
      "model": "openai/gpt-5.3-codex:medium",
      "prompt": "{file:./prompts/my-custom-agent.general.txt}", // inherits unless overridden
      "permissions": {
        "bash": "deny"
      },
      "whenToUse": ["...", "..."],
      "whenNotToUse": ["...", "..."],
      "examples": ["...", "..."]
    }
  }
}
```

```json title=".pi/ohm.json" tab="Variants"
{
  "$schema": "https://ohm.moe/schema/subagents.json",
  "subagents": {
    "my-agent": {
      "model": "openai/gpt-5.3-codex:medium",
      "prompt": "{file:./prompts/my-agent.general.txt}",
      "variants": {
        "*gemini*": {
          "model": "github-copilot/gemini-3.1-pro-preview:high",
          "prompt": "{file:./prompts/my-agent.gemini.txt}",
          "description": "...",
          "permissions": {
            "bash": "deny",
            "edit": "deny",
            "apply_patch": "deny"
          },
          "whenToUse": ["...", "..."]
        },
        "*claude*": {
          "model": "anthropic/claude-2",
          "prompt": "{file:./prompts/my-agent.claude.txt}",
          "description": "...",
          "permissions": {
            "bash": "allow",
            "edit": "deny",
            "apply_patch": "deny"
          },
          "permissions": {
            "bash": "deny"
          },
          "whenToUse": ["...", "..."]
        }
      }
    }
  }
}
```

```json title=".pi/ohm.json" tab="Built-ins"
{
  "$schema": "https://ohm.moe/schema/subagents.json",
  "subagents": {
    "librarian": {
      "model": "openai/gpt-5.3-codex:medium"
    },
    "oracle": {
      "model": "openai/gpt-5.2:high"
    },
    "finder": {
      "model": "google/gemini-3-flash-preview"
    }
  }
}
```
